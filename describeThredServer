/*
 * ========= IMPORTS =========
 * ‡πÄ‡∏£‡∏≤ import ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
 */
import java.io.FileInputStream;
import java.io.IOException;
import java.net.InetSocketAddress;
import java.nio.channels.FileChannel;
import java.nio.channels.ServerSocketChannel;
import java.nio.channels.SocketChannel;
import java.io.DataInputStream;     // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡πà‡∏≤‡∏ô "‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á" (String, long)
import java.io.DataOutputStream;    // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á "‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á" (long)
import java.util.concurrent.ExecutorService; // ‚¨ÖÔ∏è ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏´‡∏•‡∏±‡∏Å: "‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ Thread Pool"
import java.util.concurrent.Executors;       // ‚¨ÖÔ∏è ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á Thread Pool

/**
 * ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ Server ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô "ThreadPool"
 * ‡∏°‡∏±‡∏ô‡∏ñ‡∏π‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÉ‡∏´‡πâ "‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£" ‡πÅ‡∏•‡∏∞ "‡πÑ‡∏°‡πà‡∏•‡πà‡∏°" 
 * ‡πÅ‡∏°‡πâ‡∏à‡∏∞‡∏°‡∏µ Client "‡∏£‡∏∏‡∏°" ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏±‡∏ô‡πÜ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
 */
public class ZeroCopyServer_ThreadPool { 

    /*
     * ========= CONFIGURATION (‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤) =========
     */
    static final int PORT = 9999; // Port ‡∏ó‡∏µ‡πà Server ‡∏à‡∏∞‡∏£‡∏≠‡∏ü‡∏±‡∏á
    static final String FILE_TO_SEND = "..\\\\FileSend1\\\\TestFileSent"; // ‚¨ÖÔ∏è ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡πà‡∏á
    
    // ‚¨áÔ∏è ‚¨áÔ∏è ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î ‚¨áÔ∏è ‚¨áÔ∏è
    
    // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô "‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥" ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≠‡πÑ‡∏ß‡πâ
    // (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ CPU 8 cores, ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà 8 ‡∏´‡∏£‡∏∑‡∏≠ 10 ‡∏Å‡πá‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ)
    static final int NUM_WORKER_THREADS = 10;
    
    // ‡∏™‡∏£‡πâ‡∏≤‡∏á "‡∏ó‡∏µ‡∏°‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô" (Thread Pool) ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤
    // `newFixedThreadPool` ‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤ "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô 10 ‡∏Ñ‡∏ô ‡πÅ‡∏•‡∏∞‡∏°‡∏µ 10 ‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ‡∏ï‡∏•‡∏≠‡∏î‡πÑ‡∏õ"
    static final ExecutorService executor = Executors.newFixedThreadPool(NUM_WORKER_THREADS);
    // `executor` ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏™‡∏°‡∏∑‡∏≠‡∏ô "‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ö‡∏á‡∏≤‡∏ô" ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô 10 ‡∏Ñ‡∏ô‡∏Ñ‡∏≠‡∏¢‡∏´‡∏¢‡∏¥‡∏ö‡∏á‡∏≤‡∏ô‡πÑ‡∏õ‡∏ó‡∏≥

    /*
     * ========= MAIN (‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ üß†) =========
     */
    public static void main(String[] args) throws IOException {

        // 1. ‡πÄ‡∏õ‡∏¥‡∏î ServerSocketChannel ‡πÅ‡∏•‡∏∞ bind port (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô Server ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)
        ServerSocketChannel serverSocket = ServerSocketChannel.open();
        serverSocket.bind(new InetSocketAddress(PORT));
        System.out.println("Server (ThreadPool) is listening on port " + PORT);
        System.out.println("Running with " + NUM_WORKER_THREADS + " worker threads.");

        // 2. Main Thread ‡∏à‡∏∞‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô "‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£"
        //    ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏ï‡∏•‡∏≠‡∏î‡πÑ‡∏õ‡πÄ‡∏û‡∏∑‡πà‡∏≠ "‡∏£‡∏±‡∏ö‡∏™‡∏≤‡∏¢" (accept) ‡πÅ‡∏•‡∏∞ "‡∏Ñ‡∏±‡∏î‡πÅ‡∏¢‡∏Å‡∏á‡∏≤‡∏ô"
        while (true) {
            
            // 3. ‡∏£‡∏≠‡∏£‡∏±‡∏ö Client (Main Thread ‡∏à‡∏∞‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏≠‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ)
            SocketChannel clientSocket = serverSocket.accept();
            System.out.println("\nServer : Accepted Connection from " + clientSocket.getRemoteAddress());

            // 4. ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Client ‡∏ï‡πà‡∏≠‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß... ‡∏≠‡πà‡∏≤‡∏ô "‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á" ‡πÅ‡∏£‡∏Å‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
            //    ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤ Client ‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏∞‡πÑ‡∏£
            DataInputStream in = new DataInputStream(clientSocket.socket().getInputStream());
            String cmd = in.readUTF(); // ‡∏≠‡πà‡∏≤‡∏ô String ‡∏ó‡∏µ‡πà Client ‡∏™‡πà‡∏á‡∏°‡∏≤

            // 5. "‡∏Ñ‡∏±‡∏î‡πÅ‡∏¢‡∏Å‡∏á‡∏≤‡∏ô"
            if (cmd.equals("SIZE")) {
                // --------------------------------
                // ‡∏ñ‡πâ‡∏≤ Client ‡∏Ç‡∏≠ "SIZE" (‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÜ)
                // --------------------------------
                // ‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏ö‡∏≤‡∏°‡∏≤‡∏Å (‡πÅ‡∏Ñ‡πà‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå) "‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£" (Main Thread) ‡∏ó‡∏≥‡πÄ‡∏≠‡∏á‡πÄ‡∏•‡∏¢
                System.out.println("Server : Client requested file size.");
                try (FileChannel fileChannel = new FileInputStream(FILE_TO_SEND).getChannel()) {
                    long fileSize = fileChannel.size();
                    
                    // ‡∏™‡πà‡∏á‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå (long) ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ
                    DataOutputStream out = new DataOutputStream(clientSocket.socket().getOutputStream());
                    out.writeLong(fileSize); 
                    out.flush();
                }
                // ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏á‡∏≤‡∏ô "SIZE" ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß
                clientSocket.close(); 

            } else if (cmd.equals("GET")) { // ‚¨ÖÔ∏è (‡πÄ‡∏£‡∏≤‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏ö "GET" ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô)
                // --------------------------------
                // ‡∏ñ‡πâ‡∏≤ Client ‡∏Ç‡∏≠ "GET" (‡∏á‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏Å)
                // --------------------------------
                
                // ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏á‡∏≤‡∏ô "‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á" (‡∏™‡πà‡∏á‡πÑ‡∏ü‡∏•‡πå) ‡∏ã‡∏∂‡πà‡∏á‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤
                // "‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£" (Main Thread) ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ó‡∏≥‡πÄ‡∏≠‡∏á
                
                // 6. ‡∏™‡∏£‡πâ‡∏≤‡∏á "‡πÉ‡∏ö‡∏á‡∏≤‡∏ô" (Runnable)
                //    (‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á clientSocket ‡πÅ‡∏•‡∏∞ in ‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢)
                Runnable handler = new FileSenderHandler(clientSocket, FILE_TO_SEND, in);
                
                // 7. ‡πÇ‡∏¢‡∏ô "‡πÉ‡∏ö‡∏á‡∏≤‡∏ô" ‡πÄ‡∏Ç‡πâ‡∏≤ "‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤" (Thread Pool)
                executor.submit(handler); 
                
                //    "‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£" (Main Thread) ‡πÑ‡∏°‡πà‡∏£‡∏≠!
                //    ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏ß‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ accept() ‡∏£‡∏≠‡∏£‡∏±‡∏ö‡∏™‡∏≤‡∏¢ Client ‡∏Ñ‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                
            } else {
                // ‡∏ñ‡πâ‡∏≤‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏°‡∏≤‡πÅ‡∏õ‡∏•‡∏Å‡πÜ
                System.err.println("Server : Unknown command: " + cmd);
                clientSocket.close();
            }
        }
    }

    /*
     * ========= FileSenderHandler (‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á üöö) =========
     *
     * ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ "‡πÉ‡∏ö‡∏á‡∏≤‡∏ô" (Runnable) ‡∏ó‡∏µ‡πà "‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô" (Thread ‡πÉ‡∏ô Pool) ‡∏à‡∏∞‡∏´‡∏¢‡∏¥‡∏ö‡πÑ‡∏õ‡∏ó‡∏≥
     * ‡∏°‡∏±‡∏ô‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Client 1 ‡∏Ñ‡∏ô (‡∏ó‡∏µ‡πà‡∏Ç‡∏≠ "GET") ‡∏à‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à
     */
    public static class FileSenderHandler implements Runnable {
        private SocketChannel clientSocket;
        private String fileToSend;
        private DataInputStream in; // ‚¨ÖÔ∏è ‡∏£‡∏±‡∏ö "in" ‡∏°‡∏≤‡∏à‡∏≤‡∏Å main ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡πà‡∏≤‡∏ô‡∏ï‡πà‡∏≠

        public FileSenderHandler(SocketChannel clientSocket, String fileToSend, DataInputStream in) {
            this.clientSocket = clientSocket;
            this.fileToSend = fileToSend;
            this.in = in; // ‚¨ÖÔ∏è ‡πÄ‡∏Å‡πá‡∏ö "in" ‡πÑ‡∏ß‡πâ
        }

        @Override
        public void run() {
            // "‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô" (Thread) ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
            // ‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ try-with-resources ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏¥‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
            try (SocketChannel channel = this.clientSocket; // 1. ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏õ‡∏¥‡∏î Socket
                 FileChannel fc = new FileInputStream(fileToSend).getChannel(); // 2. ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡πà‡∏á
                 DataInputStream dataIn = this.in) { // 3. ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏õ‡∏¥‡∏î DataInputStream

                // 1. "‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£" (main) ‡∏≠‡πà‡∏≤‡∏ô "GET" ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß
                //    ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏≠‡πà‡∏≤‡∏ô "‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠" ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
                long start = dataIn.readLong(); // ‡∏≠‡πà‡∏≤‡∏ô "‡πÑ‡∏ö‡∏ï‡πå‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô"
                long end = dataIn.readLong();   // ‡∏≠‡πà‡∏≤‡∏ô "‡πÑ‡∏ö‡∏ï‡πå‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢"
                long size = end - start + 1;  // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ç‡∏ô‡∏≤‡∏î‡∏ó‡∏µ‡πà Client ‡∏Ç‡∏≠‡∏Å‡πâ‡∏≠‡∏ô‡∏ô‡∏µ‡πâ
                
                System.out.println("  (Thread " + Thread.currentThread().getId() + ") Sending bytes " + start + " to " + end);

                // 2. üåü ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏´‡∏•‡∏±‡∏Å: Zero Copy (transferTo) üåü
                //    ‡∏™‡πà‡∏á "‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô" (Chunk) ‡∏ó‡∏µ‡πà Client ‡∏Ç‡∏≠
                long total = 0; // ‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏ö‡∏ß‡πà‡∏≤‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà‡πÅ‡∏•‡πâ‡∏ß (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡πâ‡∏≠‡∏ô‡∏ô‡∏µ‡πâ)
                while (total < size) {
                    // fc.transferTo(position, count, target)
                    //   position: "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏≠‡πà‡∏≤‡∏ô" ‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á "start + total"
                    //   count:    ‡∏™‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô "size - total" (‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠)
                    //   target:   ‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏ó‡∏µ‡πà "channel" (Client)
                    long transferred = fc.transferTo(start + total, size - total, channel);
                    total += transferred;
                }
                System.out.println("  (Thread " + Thread.currentThread().getId() + ") Sent " + total + " bytes.");

            } catch (Exception e) {
                // ‡∏ñ‡πâ‡∏≤ Client ‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏ô‡πá‡∏ï‡∏´‡∏•‡∏∏‡∏î)
                // Thread ‡∏ô‡∏µ‡πâ‡∏Å‡πá‡∏à‡∏∞‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏õ ‡πÅ‡∏ï‡πà Server ‡πÑ‡∏°‡πà‡∏•‡πà‡∏°
                System.err.println("  (Thread " + Thread.currentThread().getId() + ") Error: " + e.getMessage());
            }
            // ‡πÄ‡∏°‡∏∑‡πà‡∏≠ "run()" ‡∏à‡∏ö "‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô" (Thread) ‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡πá‡∏ß‡πà‡∏≤‡∏á
            // ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏ß‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà "‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤" (Executor) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏´‡∏¢‡∏¥‡∏ö "‡πÉ‡∏ö‡∏á‡∏≤‡∏ô" ‡∏ä‡∏¥‡πâ‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ
        }
    }
}
